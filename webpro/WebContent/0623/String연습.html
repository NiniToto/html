<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel = "stylesheet" href = "../css/mycss.css">
<style>
</style>
<script type="text/javascript">
	function proc1(){
		//입력
		regNum = prompt("주민번호를 입력하세요");
		//입력한 값에서 문자 추출하기
		yy = regNum.substring(0, 2);
		mm = regNum.substring(2, 4);
		dd = regNum.substring(4, 6);
		gg = regNum.charAt(7);
		//추출한 값을 비교 후 정보 얻기
		if(gg == 1 || gg == 2){
			yy = "19"+yy;
		}else if(gg == 3 || gg == 4){
			yy = "20"+yy;
		}
		
		if(gg == 1 || gg == 3){
			gender = "남자";
		}else if(gg == 2 || gg == 4){
			gender = "여자";
		}
		//나이 계산
		date = new Date();
		console.log(date);
		cyear = date.getFullYear();
		age = cyear - yy + 1;		
		//출력
		res = `입력한 주민번호 : ${regNum} <br>`;
		res += `생일 : ${yy} 년  ${mm} 월  ${dd} 일 <br>`;
		res += `성별 : ${gender} <br>`;
		res += `나이 : ${age} 살 <br>`;
		
		document.getElementById("result1").innerHTML = res;
	}
	
	function proc2(){
		//입력 : -뺴고 입력
		regNum = prompt("주민번호를 입력하세요", "- 빼고 입력");
		std = "234567892345";
		sum = 0;
		
		for(i = 0; i < regNum.length-1; i++){
			a = regNum.charAt(i) * std.charAt(i);
			sum += a;			
		}
		
		sum = sum % 11;
		sum = 11 - sum;
		
		if(sum == 10){
			sum = 0;
		}else if(sum == 11){
			sum = 1;
		}
		
		if(regNum.charAt(regNum.length-1) == sum){
			res = `입력한 주민번호 : ${regNum.substr(0,6)}-${regNum.substr(6,1)} <br>`;
			res += `올바른 주민번호 입니다. <br>`;
			//res += `${sum}`;
		}else{
			res = `입력한 주민번호 : ${regNum.substr(0,6)}-${regNum.substr(6,1)} <br>`;
			res += `올바른 주민번호 양식이 아닙니다. <br>`;
			//res += `${sum}`;
		}
		
			document.getElementById("result2").innerHTML = res;
	}
</script>
</head>
<body>
	<div class = "box">
		<h2>1. 주민번호</h2>
		- 주민등록번호를 입력 받아 생년월일과 성별을 출력하는 프로그램을 작성하시오.<br>
		- (입력은 prompt로 입력받는다.)<br>
		<input type = "button" value = "확인" onclick = "proc1()"> 
		<div id = "result1"></div>
	</div>
	<div class = "box">
		<h2>2. 주민번호</h2>
		- 주민등록번호를 입력 받아 주민등록번호의 유효성을 검사하는 프로그램을 작성하시오. <br>
		- (ABCDEF-GHIJKLM)<br>
		- 가중치  : "234567892345"<br>
		- 주민번호의 각 한자리와 가중치의 각 한자리가 곱해진다<br>
		<input type = "button" value = "확인" onclick = "proc2()"> 
		<div id = "result2"></div>
	</div>
	
</body>
</html>